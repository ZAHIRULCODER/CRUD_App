<!-- include header -->
<%- include('include/_header') %>
<!-- /include header -->

<div class="container">
  <div class="row my-4">
    <div class="col-lg-12">
      <div class="table-responsive">
        <% if (users !='' ) { %>
        <table class="table table-striped text-center">
          <thead>
            <tr class="table-dark">
              <th>ID</th>
              <th>Name</th>
              <th>E-Mail</th>
              <th>Phone</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <% users.forEach((row, index)=> { %>
            <tr>
              <td><%= index+1 %></td>
              <td><%= row.name %></td>
              <td><%= row.email %></td>
              <td><%= row.phone %></td>
              <td>
                <a href="/update-user/<%= row._id %>" class="text-success"
                  ><i class="fas fa-edit fa-lg mx-1"></i
                ></a>
                <a
                  href="/delete-user/<%= row._id %>"
                  class="text-danger"
                  data-bs-toggle="modal"
                  data-bs-target="#exampleModal"
                  ><i class="fas fa-trash fa-lg mx-1"></i
                ></a>

                <!-- Modal -->
                <div
                  class="modal fade"
                  id="exampleModal"
                  tabindex="-1"
                  aria-labelledby="exampleModalLabel"
                  aria-hidden="true"
                >
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">
                          Delete User
                        </h5>
                      </div>
                      <div class="modal-body">
                        <strong>
                          <h4>Are you sure you want to delete ?</h4>
                        </strong>
                      </div>
                      <div class="modal-footer">
                        <button
                          type="button"
                          class="btn btn-secondary"
                          data-bs-dismiss="modal"
                        >
                          Close
                        </button>
                        <button type="button" class="btn btn-danger">
                          <a
                            href="/delete-user/<%= row._id %>"
                            class="text-decoration-none text-white"
                            >Confirm Delete</a
                          >
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </td>
            </tr>
            <% }) %>
          </tbody>
        </table>
        <% } else {%>
        <h1 class="text-center text-secondary mt-5">
          No users found in the database!
        </h1>
        <% } %>
      </div>
    </div>
  </div>
</div>

<!-- include footer -->
<%- include('include/_footer') %>
<!-- /include footer -->
